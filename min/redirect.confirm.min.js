// Redirect Confirm
// Version   : 1.0.1
// Developer : Ekrem KAYA
// Website   : http://e-piksel.com
// GitHub    : https://github.com/epiksel/redirect-confirm

!function(t){t.fn.RedirectConfirm=function(e){var n={selector:"a",excluding:"data-rc-exclude",title:"Exiting our website",message:"You are now leaving our website. We are not responsible for any external Web sites or their content.",continuelbl:"Continue",returnlbl:"Return",targetUrl:"_blank"},e=t.extend(n,e),i=!1,a=function(t){var e=t.split(",");return e.slice(-2).join(".")},o=a(location.hostname),l=new Array;t(e.selector).each(function(){var n=t('<div id="redirectconfirm-modal" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3>'+e.title+'</h3></div><div class="modal-body"><p>'+e.message+'</p></div><div class="modal-footer"><a href="#" class="btn btn-default" data-dismiss="modal">'+e.returnlbl+'</a><a href="'+t(this).attr("href")+'" target="'+e.targetUrl+'" class="btn btn-primary btn-continue">'+e.continuelbl+"</a></div></div></div></div>").appendTo("body"),d=jQuery(this),r=d.attr(e.excluding);"true"==r&&"undefined"!=r&&d.attr(e.excluding,!0),d.get(0).hostname&&a(d.get(0).hostname)!=o&&!r&&d.click(function(a){i||(l.push(t(this).attr("href")),a.preventDefault(),a.stopPropagation(),n.on("show",function(){n.find(".btn-continue").click(function(){i=!0,d.get(0).click(),n.modal("hide"),location.reload()})}),n.on("hide",function(){i=!1}),n.find(".btn-continue").click(function(){n.modal("hide")}),n.find(".modal-body > p").html(e.message.replace("{url}",d.attr("href"))),n.modal("show"))})})}}(jQuery);