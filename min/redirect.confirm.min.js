// Redirect Confirm
// Version   : 1.0.0
// Developer : Ekrem KAYA
// Website   : http://e-piksel.com
// GitHub    : https://github.com/epiksel/redirect-confirm

!function(t){t.fn.RedirectConfirm=function(e){var n={title:"Exiting our website",message:"You are now leaving our website. We are not responsible for any external Web sites or their content.",continuelbl:"Continue",returnlbl:"Return"},e=t.extend(n,e),i=!1,a=function(t){var e=t.split(",");return e.slice(-2).join(".")},o=a(location.hostname),s=new Array;t("a").each(function(){var n=t('<div id="redirectconfirm-modal" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3>'+e.title+'</h3></div><div class="modal-body"><p>'+e.message+'</p></div><div class="modal-footer"><a href="#" class="btn btn-default" data-dismiss="modal">'+e.returnlbl+'</a><a href="'+t(this).attr("href")+'" class="btn btn-primary btn-continue">'+e.continuelbl+"</a></div></div></div></div>").appendTo("body"),l=jQuery(this);l.get(0).hostname&&a(l.get(0).hostname)!=o&&l.click(function(a){i||(s.push(t(this).attr("href")),a.preventDefault(),a.stopPropagation(),n.on("show",function(){n.find(".btn-continue").click(function(){i=!0,l.get(0).click(),n.modal("hide"),location.reload()})}),n.on("hide",function(){i=!1}),n.find(".modal-body > p").html(e.message.replace("{url}",l.attr("href"))),n.modal("show"))})})}}(jQuery);